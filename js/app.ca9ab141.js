(function(t){function e(e){for(var n,i,c=e[0],o=e[1],u=e[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,c=1;c<s.length;c++){var o=s[c];0!==a[o]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/tracktic-test/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0194":function(t,e,s){"use strict";s("8657")},"01dc":function(t,e){},"0dd2":function(t,e,s){"use strict";s("1a3e")},"1a3e":function(t,e,s){},"1a63":function(t,e,s){"use strict";var n=s("01dc"),a=s.n(n);e["default"]=a.a},2049:function(t,e,s){},"216b":function(t,e,s){"use strict";s("774b")},4125:function(t,e,s){"use strict";s.d(e,"a",(function(){return n})),s.d(e,"b",(function(){return a}));var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top-bar"},[t._v(" Scheduling ")])},a=[]},"4e94":function(t,e,s){"use strict";s("eeaf")},"561b":function(t,e,s){"use strict";s("2049")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("top-bar"),s("router-view")],1)},r=[],i=s("b043"),c={name:"App",components:{TopBar:i["default"]}},o=c,u=(s("5c0b"),s("2877")),l=Object(u["a"])(o,a,r,!1,null,null,null),d=l.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sites"},[s("filters"),s("h1",[t._v("Sites")]),s("div",{staticClass:"sites__list"},t._l(t.$store.state.sites,(function(e,n){return s("site",{key:n,attrs:{site:e,customClass:"primary"},scopedSlots:t._u([{key:"next",fn:function(){return[s("div",{staticClass:"next",on:{click:function(s){return t.getDetails(e)}}},[t._v(">")])]},proxy:!0}],null,!0)})})),1),s("pagination")],1)},f=[],v=s("1da1"),_=(s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card-wrapper",class:t.customClass},[t._t("prev"),s("div",{staticClass:"card"},[s("div",{staticClass:"card__image",style:{backgroundImage:"url('"+t.siteImage+"')"}}),s("div",{staticClass:"card__content"},[t.site.title?s("div",{staticClass:"card__content__title"},[t._v(" "+t._s(t.site.title)+" ")]):t._e(),t.site.address?s("info-row",{staticClass:"card__content__address",attrs:{info:t.site.address,pattern:["street","city","state","country","zipCode"]}}):t._e(),t.site.contacts?s("info-row",{staticClass:"card__content__person",attrs:{info:t.site.contacts.main,pattern:["firstName","lastName","jobTitle"]}}):t._e()],1)]),t._t("next")],2)}),m=[],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.pattern,(function(e,n){return s("span",{key:n},[t.info[e]?s("span",[t._v(t._s(t.info[e])),n<t.pattern.length-1?s("span",[t._v(", ")]):t._e()]):t._e()])})),0)},h=[],b={name:"InfoRow",props:["pattern","info"]},y=b,w=Object(u["a"])(y,g,h,!1,null,null,null),x=w.exports,C={name:"Site",components:{InfoRow:x},props:["site","customClass"],data:function(){return{siteImage:""}},created:function(){this.site.images&&this.site.images.length&&(this.siteImage=this.site.images[0])}},$=C,k=(s("4e94"),Object(u["a"])($,_,m,!1,null,"0b80c0fc",null)),S=k.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pagination"},[t.$store.state.currentPage>1?s("button",{staticClass:"prev",on:{click:function(e){return t.setPage(t.prev)}}},[t._v("<")]):t._e(),t.$store.state.currentPage>1?s("button",{staticClass:"first",on:{click:function(e){return t.setPage(1)}}},[t._v("1")]):t._e(),s("button",{staticClass:"current"},[t._v("Page "+t._s(t.$store.state.currentPage))]),t.$store.state.currentPage<t.$store.state.totalPages?s("button",{staticClass:"last",on:{click:function(e){return t.setPage(t.$store.state.totalPages)}}},[t._v(t._s(t.$store.state.totalPages))]):t._e(),t.$store.state.currentPage<t.$store.state.totalPages?s("button",{staticClass:"next",on:{click:function(e){return t.setPage(t.next)}}},[t._v(">")]):t._e()])},O=[],B={name:"Pagination",data:function(){return{}},computed:{next:function(){return parseInt(this.$store.state.currentPage)+1},prev:function(){return parseInt(this.$store.state.currentPage)-1}},methods:{setPage:function(t){this.$router.push({path:"/".concat(t)}),this.$store.dispatch("fetchSites",t)}}},j=B,z=(s("561b"),Object(u["a"])(j,P,O,!1,null,"3fc5b4ee",null)),L=z.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"filter"},[s("div",{staticClass:"filter-wrapper"},[s("select",{on:{change:t.sortBy}},t._l(t.sortByOptions,(function(e,n){return s("option",{key:n,domProps:{value:e.value}},[t._v(t._s(e.name))])})),0),t._l(t.orderByOptions,(function(e,n){return s("label",{key:e},[s("input",{attrs:{disabled:!t.sortByVal,type:"radio",name:"order"},domProps:{checked:!n,value:e},on:{change:t.orderBy}}),t._v(" "+t._s(e)+" ")])}))],2)])},I=[],M=[{name:"Default",value:""},{name:"Title",value:"title"},{name:"Address",value:"address.country"}],T=["asc","desc"],E={name:"Filters",data:function(){return{sortByOptions:M,orderByOptions:T,sortByVal:""}},methods:{sortBy:function(t){"default"===t.target.value&&this.$store.dispatch("sortBy",""),this.$store.dispatch("sortBy",t.target.value),this.sortByVal=t.target.value},orderBy:function(t){this.$store.dispatch("orderBy",t.target.value)}}},N=E,D=(s("fcf9"),Object(u["a"])(N,R,I,!1,null,"c56d13c6",null)),V=D.exports,A={name:"SitesList",components:{Site:S,Pagination:L,Filters:V},created:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("fetchSites",t.$route.params.page||1);case 2:case"end":return e.stop()}}),e)})))()},methods:{getDetails:function(t){this.$router.push({name:"siteDetails",params:{id:t.id,site:t}})}}},F=A,J=(s("216b"),s("0194"),Object(u["a"])(F,p,f,!1,null,"06705c32",null)),H=J.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("site",{attrs:{site:t.$store.state.site,customClass:"secondary"},scopedSlots:t._u([{key:"prev",fn:function(){return[s("router-link",{staticClass:"prev",attrs:{to:"/"+t.$store.state.currentPage,tag:"div"}},[t._v("<")])]},proxy:!0}])}),s("div",{staticClass:"details__content"},[s("div",{staticClass:"details__content__img"},[t.$store.state.site.images&&t.$store.state.site.images.length?s("img",{attrs:{src:t.$store.state.site.images[0]}}):t._e()]),s("div",{staticClass:"details__content__info"},[s("div",{staticClass:"person details__content__info__block"},[s("div",{staticClass:"svg-container"},[s("svg",{attrs:{viewBox:"-42 0 512 512.002",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m210.351562 246.632812c33.882813 0 63.222657-12.152343 87.195313-36.128906 23.972656-23.972656 36.125-53.304687 36.125-87.191406 0-33.875-12.152344-63.210938-36.128906-87.191406-23.976563-23.96875-53.3125-36.121094-87.191407-36.121094-33.886718 0-63.21875 12.152344-87.191406 36.125s-36.128906 53.308594-36.128906 87.1875c0 33.886719 12.15625 63.222656 36.132812 87.195312 23.976563 23.96875 53.3125 36.125 87.1875 36.125zm0 0"}}),s("path",{attrs:{d:"m426.128906 393.703125c-.691406-9.976563-2.089844-20.859375-4.148437-32.351563-2.078125-11.578124-4.753907-22.523437-7.957031-32.527343-3.308594-10.339844-7.808594-20.550781-13.371094-30.335938-5.773438-10.15625-12.554688-19-20.164063-26.277343-7.957031-7.613282-17.699219-13.734376-28.964843-18.199219-11.226563-4.441407-23.667969-6.691407-36.976563-6.691407-5.226563 0-10.28125 2.144532-20.042969 8.5-6.007812 3.917969-13.035156 8.449219-20.878906 13.460938-6.707031 4.273438-15.792969 8.277344-27.015625 11.902344-10.949219 3.542968-22.066406 5.339844-33.039063 5.339844-10.972656 0-22.085937-1.796876-33.046874-5.339844-11.210938-3.621094-20.296876-7.625-26.996094-11.898438-7.769532-4.964844-14.800782-9.496094-20.898438-13.46875-9.75-6.355468-14.808594-8.5-20.035156-8.5-13.3125 0-25.75 2.253906-36.972656 6.699219-11.257813 4.457031-21.003906 10.578125-28.96875 18.199219-7.605469 7.28125-14.390625 16.121094-20.15625 26.273437-5.558594 9.785157-10.058594 19.992188-13.371094 30.339844-3.199219 10.003906-5.875 20.945313-7.953125 32.523437-2.058594 11.476563-3.457031 22.363282-4.148437 32.363282-.679688 9.796875-1.023438 19.964844-1.023438 30.234375 0 26.726562 8.496094 48.363281 25.25 64.320312 16.546875 15.746094 38.441406 23.734375 65.066406 23.734375h246.53125c26.625 0 48.511719-7.984375 65.0625-23.734375 16.757813-15.945312 25.253906-37.585937 25.253906-64.324219-.003906-10.316406-.351562-20.492187-1.035156-30.242187zm0 0"}})])]),s("div",{staticClass:"content-container"},[s("p",[t._v(t._s(t.$store.state.site.contacts.main.firstName)+" "+t._s(t.$store.state.site.contacts.main.lastName))]),s("p",[t._v(t._s(t.$store.state.site.contacts.main.jobTitle))])])]),s("div",{staticClass:"phone details__content__info__block"},[s("div",{staticClass:"svg-container"},[s("svg",{attrs:{id:"Layer_1","enable-background":"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"m237.795 467.816-193.604-193.607c-58.766-58.769-59.076-154.102 0-213.181l56.638-56.639c6.433-6.435 17.121-5.706 22.605 1.606l96.392 128.525c4.479 5.971 3.884 14.327-1.393 19.605l-57.61 57.612c-6.685 6.685-6.696 17.526 0 24.222l115.22 115.223c6.685 6.683 17.525 6.694 24.223-.001l57.61-57.611c5.279-5.279 13.635-5.871 19.605-1.393l128.523 96.393c7.298 5.474 8.057 16.156 1.606 22.605l-56.639 56.64c-58.873 58.874-154.226 58.952-213.176.001z"}})])]),s("div",{staticClass:"content-container"},[s("a",{attrs:{href:"tel:"+t.$store.state.site.contacts.main.phoneNumber}},[t._v(t._s(t.$store.state.site.contacts.main.phoneNumber))])])]),s("div",{staticClass:"email details__content__info__block"},[s("div",{staticClass:"svg-container"},[s("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[s("path",{attrs:{d:"M507.49,101.721L352.211,256L507.49,410.279c2.807-5.867,4.51-12.353,4.51-19.279V121C512,114.073,510.297,107.588,507.49,101.721z"}}),s("path",{attrs:{d:"M467,76H45c-6.927,0-13.412,1.703-19.279,4.51l198.463,197.463c17.548,17.548,46.084,17.548,63.632,0L486.279,80.51\n\t\t\tC480.412,77.703,473.927,76,467,76z"}}),s("path",{attrs:{d:"M4.51,101.721C1.703,107.588,0,114.073,0,121v270c0,6.927,1.703,13.413,4.51,19.279L159.789,256L4.51,101.721z"}}),s("path",{attrs:{d:"M331,277.211l-21.973,21.973c-29.239,29.239-76.816,29.239-106.055,0L181,277.211L25.721,431.49C31.588,434.297,38.073,436,45,436h422c6.927,0,13.412-1.703,19.279-4.51L331,277.211z"}})])]),s("div",{staticClass:"content-container"},[s("a",{attrs:{href:"mailto:"+t.$store.state.site.contacts.main.email}},[t._v(t._s(t.$store.state.site.contacts.main.email))])])]),t.$store.state.site.contacts.main.address?s("div",{staticClass:"address details__content__info__block"},[s("div",{staticClass:"svg-container"},[s("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[s("path",{attrs:{d:"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z"}})])]),s("div",{staticClass:"content-container"},[s("info-row",{attrs:{info:t.$store.state.site.contacts.main.address,pattern:["street","city","state","country","zipCode"]}})],1)]):t._e()])])],1)},q=[],G={name:"SiteDetails",components:{InfoRow:x,Site:S},created:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.params.site){e.next=5;break}return e.next=3,t.$store.dispatch("setSite",t.$route.params.site);case 3:e.next=7;break;case 5:return e.next=7,t.$store.dispatch("fetchSite",t.$route.params.id);case 7:case"end":return e.stop()}}),e)})))()},data:function(){return{siteData:{}}}},K=G,Q=(s("93fb"),s("8ffa"),Object(u["a"])(K,U,q,!1,null,"a8e9d368",null)),W=Q.exports,X=s("8c4f"),Y=(s("99af"),s("2f62")),Z=s("bc3a"),tt=s.n(Z);n["a"].use(Y["a"]);var et="https://tracktik-challenge.staffr.com",st=12,nt="Unexpected error occured",at=new Y["a"].Store({state:{sites:[],total:0,currentPage:1,totalPages:1,site:{contacts:{main:{firstName:"",lastName:"",jobTitle:"",address:{street:"",city:"",state:"",zipCode:""}}},images:[""]},sortBy:"",orderBy:""},getters:{getSort:function(t){return t.sortBy},getOrder:function(t){return t.orderBy}},mutations:{updateSites:function(t,e){t.sites=e},updateSite:function(t,e){t.site=e},updateTotal:function(t,e){t.total=e;var s=parseInt(e/st);e%st&&s++,t.totalPages=s},updateCurrentPage:function(t,e){t.currentPage=e},setSortBy:function(t,e){t.sortBy=e},setOrderBy:function(t,e){t.orderBy=e}},actions:{fetchSites:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function s(){var n,a,r,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,a=t.getters,s.prev=1,r="",a.getSort&&(r+="&_sort=".concat(a.getSort)),a.getOrder&&(r+="&_order=".concat(a.getOrder)),s.next=7,tt.a.get("".concat(et,"/sites?_page=").concat(e,"&_limit=").concat(st).concat(r));case 7:i=s.sent,n("updateSites",i.data),n("updateCurrentPage",e),n("updateTotal",i.headers["x-total-count"]),s.next=17;break;case 13:s.prev=13,s.t0=s["catch"](1),console.log(s.t0),alert(nt);case 17:case"end":return s.stop()}}),s,null,[[1,13]])})))()},fetchSite:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function s(){var n,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return n=t.commit,s.prev=1,s.next=4,tt.a.get("".concat(et,"/sites/").concat(e));case 4:a=s.sent,n("updateSite",a.data),s.next=12;break;case 8:s.prev=8,s.t0=s["catch"](1),console.log(s.t0),alert(nt);case 12:case"end":return s.stop()}}),s,null,[[1,8]])})))()},setSite:function(t,e){var s=t.commit;s("updateSite",e)},sortBy:function(t,e){var s=t.commit,n=t.dispatch;s("setSortBy",e),n("fetchSites",1)},orderBy:function(t,e){var s=t.commit,n=t.dispatch;s("setOrderBy",e),n("fetchSites",1)}}});n["a"].use(X["a"]);var rt=[{name:"sitesList",path:"/:page?",component:H},{name:"siteDetails",path:"/site/:id",component:W,props:!0}],it=new X["a"]({routes:rt});n["a"].config.productionTip=!1,new n["a"]({router:it,store:at,render:function(t){return t(d)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"774b":function(t,e,s){},8657:function(t,e,s){},"8e68":function(t,e,s){},"8ffa":function(t,e,s){"use strict";s("8e68")},"93fb":function(t,e,s){"use strict";s("bf88")},"9c0c":function(t,e,s){},b043:function(t,e,s){"use strict";var n=s("4125"),a=s("1a63"),r=(s("0dd2"),s("2877")),i=Object(r["a"])(a["default"],n["a"],n["b"],!1,null,"b2c283b6",null);e["default"]=i.exports},bf88:function(t,e,s){},cdc1:function(t,e,s){},eeaf:function(t,e,s){},fcf9:function(t,e,s){"use strict";s("cdc1")}});
//# sourceMappingURL=app.ca9ab141.js.map